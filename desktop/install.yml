- name: "Desktop - Install VSCode"
  become: "{{ use_root_for_install }}"
  block:
    - name: "VSCode - Download Deb File"
      get_url:
        url: https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64
        dest: /tmp/vscode.deb
    - name: "VSCode - Install"
      apt:
        deb: /tmp/vscode.deb

- name: "Desktop - Alacritty"
  become: "{{ use_root_for_install }}"
  block:
    - name: Alacritty - Add APT Repo
      become: true
      when: ansible_pkg_mgr == 'apt'
      apt_repository:
        repo: ppa:aslatter/ppa
        codename: "{{ distro_codename | default(omit) }}"

    - name: Alacritty - Install Alacritty
      become: "{{ use_root_for_install }}"
      package:
        name: alacritty
        state: present

- name: "Desktop - Steam"
  become: "{{ use_root_for_install }}"
  package:
    name: steam
    state: present

- name: "Desktop - Discord"
  become: "{{ use_root_for_install }}"
  block:
    - name: "Discord - Download Deb File"
      get_url:
        url: https://discord.com/api/download?platform=linux&format=deb
        dest: /tmp/discord.deb
    - name: "Discord - Install"
      apt:
        deb: /tmp/discord.deb
